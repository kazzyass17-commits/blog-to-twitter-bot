# Twitter API レート制限の説明

## レート制限とは

Twitter APIには、一定時間内に実行できるリクエスト数に制限があります。これを「レート制限」と呼びます。

## レート制限の種類

### 1. ツイート投稿のレート制限
- **制限**: 1時間あたり300ツイート
- **ウィンドウ**: 15分間のスライディングウィンドウ
- **待機時間**: 通常900秒（15分）

### 2. 短い待機時間（265秒など）
- **原因**: 複数のアカウントを連続で実行した場合
- **説明**: 1つ目のアカウントでレート制限に達し、2つ目のアカウントでもすぐにレート制限に達した場合
- **対処**: アカウント間の待機時間を設ける（900秒）

## 警告メッセージについて

### 「Rate limit exceeded. Sleeping for...」メッセージ

このメッセージは**正常な動作**です。

- `wait_on_rate_limit=True`を設定している場合、自動的に待機して再試行します
- 警告メッセージは、レート制限に達したことを知らせるためのものです
- 自動的に待機するので、手動で待つ必要はありません

### 待機時間の種類

1. **265秒（約4.4分）**: 短いウィンドウのレート制限
   - 複数のアカウントを連続で実行した場合に発生しやすい
   - アカウント間の待機時間を設けることで回避可能

2. **900秒（15分）**: 通常のレート制限
   - 1時間あたり300ツイートの制限に達した場合
   - 15分間のスライディングウィンドウで制限される

## 現在の実装

### 900秒ごとの投稿テスト

- **1回の実行で1つのアカウントのみをテスト**
- **アカウント間の待機時間**: 900秒（15分）
- **レート制限の自動処理**: `wait_on_rate_limit=True`により自動待機

### 実行フロー

1. 365botGaryのテスト（文字数50から順に）
2. 900秒待機
3. 365botGaryのテスト（次の文字数）
4. 900秒待機
5. ...（すべての文字数をテスト）
6. 900秒待機
7. pursahsgospelのテスト（文字数50から順に）
8. 900秒待機
9. ...（繰り返し）

## 注意事項

- **265秒の待機が出る場合**: 以前の実行でレート制限に達していた可能性があります
- **警告メッセージは正常**: `wait_on_rate_limit=True`により自動的に待機します
- **アカウント間の待機**: 900秒の待機時間を設けることで、レート制限を回避できます

## トラブルシューティング

### 265秒の待機が頻繁に出る場合

- **原因**: 複数のアカウントを連続で実行している
- **対処**: アカウント間の待機時間を確認（900秒）

### 900秒の待機が頻繁に出る場合

- **原因**: 1時間あたり300ツイートの制限に達している
- **対処**: 投稿頻度を下げる、または待機時間を長くする








